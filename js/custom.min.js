var monto=document.getElementById("monto"),montoLiquido=document.getElementById("monto-liquido"),liquidoDescuento=document.getElementById("liquido-descuento"),montoBruto=document.getElementById("monto-bruto"),brutoDescuento=document.getElementById("bruto-descuento"),porcentajeIVA=document.getElementById("iva");function liquido(e){return parseInt(e-iva(e)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,".")}function bruto(e){return(e/((100-porcentajeIVA.value)/100)).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,".")}function iva(e){e=e.replace(/[^0-9]/g,"");var t=porcentajeIVA.value/100;return parseInt(e*t)}function copiarMonto(e,t){var n=document.getElementById(e);navigator.clipboard.writeText(n.innerHTML),t.innerHTML="Copiado",setTimeout(function(){t.innerHTML="Copiar"},3e3)}monto.addEventListener("keypress",e=>{var t=window.event?e.which:e.keyCode;(t<48||t>57)&&e.preventDefault()}),porcentajeIVA.addEventListener("keypress",e=>{var t=window.event?e.which:e.keyCode;(t<48||t>57)&&46!=t&&e.preventDefault()}),monto.addEventListener("keyup",()=>{monto.value=monto.value.replace(/[^0-9]/g,""),""==!monto.value?(montoLiquido.innerHTML="$"+liquido(monto.value),montoBruto.innerHTML="$"+bruto(monto.value)):(montoLiquido.innerHTML="$0",montoBruto.innerHTML="$0")}),porcentajeIVA.addEventListener("keyup",()=>{porcentajeIVA.value>100&&(porcentajeIVA.value=100,monto.dispatchEvent(new KeyboardEvent("keyup"))),(""!=porcentajeIVA.value||"0"!=porcentajeIVA.value.charAt(porcentajeIVA.value.length-1)&&(porcentajeIVA.value.match(/\./g)||[]).length>1&&(porcentajeIVA.value.match(/\./g)||[]).length>1^"."!=porcentajeIVA.value.charAt(porcentajeIVA.value.length-1))&&(porcentajeIVA.value=parseFloat(porcentajeIVA.value),monto.dispatchEvent(new KeyboardEvent("keyup")))});